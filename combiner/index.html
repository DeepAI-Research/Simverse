
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../cameras/">
      
      
        <link rel="next" href="../getting_started/">
      
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.29">
    
    
      
        <title>Combiner - Simian</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.76a95c52.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#combiner" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Simian" class="md-header__button md-logo" aria-label="Simian" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Simian
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Combiner
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Simian" class="md-nav__button md-logo" aria-label="Simian" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    Simian
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simian
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../backgrounds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backgrounds
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../batch_rendering/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Batch Rendering
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cameras/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cameras
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Combiner
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Combiner
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#simian.combiner" class="md-nav__link">
    <span class="md-ellipsis">
      combiner
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.add_camera_follow" class="md-nav__link">
    <span class="md-ellipsis">
      add_camera_follow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.flatten_descriptions" class="md-nav__link">
    <span class="md-ellipsis">
      flatten_descriptions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_animation" class="md-nav__link">
    <span class="md-ellipsis">
      generate_animation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_background" class="md-nav__link">
    <span class="md-ellipsis">
      generate_background
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_camerafollow_captions" class="md-nav__link">
    <span class="md-ellipsis">
      generate_camerafollow_captions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_fov_caption" class="md-nav__link">
    <span class="md-ellipsis">
      generate_fov_caption
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_framing" class="md-nav__link">
    <span class="md-ellipsis">
      generate_framing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_framing_caption" class="md-nav__link">
    <span class="md-ellipsis">
      generate_framing_caption
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_movement_captions" class="md-nav__link">
    <span class="md-ellipsis">
      generate_movement_captions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_object_name_description_captions" class="md-nav__link">
    <span class="md-ellipsis">
      generate_object_name_description_captions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_objects" class="md-nav__link">
    <span class="md-ellipsis">
      generate_objects
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_ontop_captions" class="md-nav__link">
    <span class="md-ellipsis">
      generate_ontop_captions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_orientation" class="md-nav__link">
    <span class="md-ellipsis">
      generate_orientation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_orientation_caption" class="md-nav__link">
    <span class="md-ellipsis">
      generate_orientation_caption
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_postprocessing" class="md-nav__link">
    <span class="md-ellipsis">
      generate_postprocessing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_postprocessing_caption" class="md-nav__link">
    <span class="md-ellipsis">
      generate_postprocessing_caption
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_relationship_captions" class="md-nav__link">
    <span class="md-ellipsis">
      generate_relationship_captions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_stage" class="md-nav__link">
    <span class="md-ellipsis">
      generate_stage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_stage_captions" class="md-nav__link">
    <span class="md-ellipsis">
      generate_stage_captions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.meters_to_feet_rounded" class="md-nav__link">
    <span class="md-ellipsis">
      meters_to_feet_rounded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.parse_args" class="md-nav__link">
    <span class="md-ellipsis">
      parse_args
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.read_json_file" class="md-nav__link">
    <span class="md-ellipsis">
      read_json_file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.speed_factor_to_percentage" class="md-nav__link">
    <span class="md-ellipsis">
      speed_factor_to_percentage
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../object/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Object
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../postprocessing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Postprocessing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../rendering/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rendering
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../scene/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scene
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../transform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transform
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../worker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Worker
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#simian.combiner" class="md-nav__link">
    <span class="md-ellipsis">
      combiner
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.add_camera_follow" class="md-nav__link">
    <span class="md-ellipsis">
      add_camera_follow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.flatten_descriptions" class="md-nav__link">
    <span class="md-ellipsis">
      flatten_descriptions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_animation" class="md-nav__link">
    <span class="md-ellipsis">
      generate_animation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_background" class="md-nav__link">
    <span class="md-ellipsis">
      generate_background
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_camerafollow_captions" class="md-nav__link">
    <span class="md-ellipsis">
      generate_camerafollow_captions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_fov_caption" class="md-nav__link">
    <span class="md-ellipsis">
      generate_fov_caption
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_framing" class="md-nav__link">
    <span class="md-ellipsis">
      generate_framing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_framing_caption" class="md-nav__link">
    <span class="md-ellipsis">
      generate_framing_caption
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_movement_captions" class="md-nav__link">
    <span class="md-ellipsis">
      generate_movement_captions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_object_name_description_captions" class="md-nav__link">
    <span class="md-ellipsis">
      generate_object_name_description_captions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_objects" class="md-nav__link">
    <span class="md-ellipsis">
      generate_objects
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_ontop_captions" class="md-nav__link">
    <span class="md-ellipsis">
      generate_ontop_captions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_orientation" class="md-nav__link">
    <span class="md-ellipsis">
      generate_orientation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_orientation_caption" class="md-nav__link">
    <span class="md-ellipsis">
      generate_orientation_caption
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_postprocessing" class="md-nav__link">
    <span class="md-ellipsis">
      generate_postprocessing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_postprocessing_caption" class="md-nav__link">
    <span class="md-ellipsis">
      generate_postprocessing_caption
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_relationship_captions" class="md-nav__link">
    <span class="md-ellipsis">
      generate_relationship_captions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_stage" class="md-nav__link">
    <span class="md-ellipsis">
      generate_stage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.generate_stage_captions" class="md-nav__link">
    <span class="md-ellipsis">
      generate_stage_captions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.meters_to_feet_rounded" class="md-nav__link">
    <span class="md-ellipsis">
      meters_to_feet_rounded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.parse_args" class="md-nav__link">
    <span class="md-ellipsis">
      parse_args
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.read_json_file" class="md-nav__link">
    <span class="md-ellipsis">
      read_json_file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simian.combiner.speed_factor_to_percentage" class="md-nav__link">
    <span class="md-ellipsis">
      speed_factor_to_percentage
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="combiner">Combiner</h1>
<p>The <code>combiner</code> module is responible for creating the combinations.json file which is used to store the combinations of assets that will be used to render the final video. It handles reading the assets from the assets directory, creating the combinations, and writing the combinations to the combinations.json file.</p>


<div class="doc doc-object doc-module">



<a id="simian.combiner"></a>
    <div class="doc doc-contents first">



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="simian.combiner.add_camera_follow" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_camera_follow</span><span class="p">(</span><span class="n">objects</span><span class="p">,</span> <span class="n">camera_follow</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Add camera follow to objects.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>objects</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of objects.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>camera_follow</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Camera follow flag.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[Dict[str, Any]]: List of objects with camera follow.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_camera_follow</span><span class="p">(</span><span class="n">objects</span><span class="p">,</span> <span class="n">camera_follow</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add camera follow to objects.</span>

<span class="sd">    Args:</span>
<span class="sd">        objects: List of objects.</span>
<span class="sd">        camera_follow: Camera follow flag.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[Dict[str, Any]]: List of objects with camera follow.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">camera_follow</span><span class="p">:</span>  
        <span class="c1"># how many objects in array</span>
        <span class="n">num_objects</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">objects</span><span class="p">)</span>
        <span class="c1"># randomly select an object to follow</span>
        <span class="n">random_index</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_objects</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">objects</span><span class="p">[</span><span class="n">random_index</span><span class="p">][</span><span class="s2">&quot;camera_follow&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;follow&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>

    <span class="k">return</span> <span class="n">objects</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.flatten_descriptions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">flatten_descriptions</span><span class="p">(</span><span class="n">descriptions</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Flatten a list of descriptions, which may contain nested lists.
Copy codeArgs:
    descriptions (List[Any]): A list of descriptions which may contain nested lists.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[str]: A flattened list of descriptions.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">flatten_descriptions</span><span class="p">(</span><span class="n">descriptions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Flatten a list of descriptions, which may contain nested lists.</span>
<span class="sd">    Copy codeArgs:</span>
<span class="sd">        descriptions (List[Any]): A list of descriptions which may contain nested lists.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[str]: A flattened list of descriptions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">flat_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">descriptions</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">flat_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">flatten_descriptions</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">flat_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">flat_list</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_animation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_animation</span><span class="p">(</span><span class="n">camera_data</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate camera animation based on the camera data.
Copy codeArgs:
    camera_data (Dict[str, Any]): Camera data.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dict[str, Any]: Camera animation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_animation</span><span class="p">(</span><span class="n">camera_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate camera animation based on the camera data.</span>
<span class="sd">    Copy codeArgs:</span>
<span class="sd">        camera_data (Dict[str, Any]): Camera data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dict[str, Any]: Camera animation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">animation</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">camera_data</span><span class="p">[</span><span class="s2">&quot;animations&quot;</span><span class="p">])</span>
    <span class="n">animation</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">animation</span><span class="p">[</span><span class="s2">&quot;speed_factor&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span>
    <span class="n">animation</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;descriptions&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">animation</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_background" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_background</span><span class="p">(</span><span class="n">background_dict</span><span class="p">,</span> <span class="n">background_names</span><span class="p">,</span> <span class="n">background_weights</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate a random background.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>background_dict</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Background data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>background_names</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of background names.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>background_weigh</code></td>
            <td>
                  <code>ts</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of background</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dict[str, Any]: Generated background.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_background</span><span class="p">(</span>
    <span class="n">background_dict</span><span class="p">,</span> <span class="n">background_names</span><span class="p">,</span> <span class="n">background_weights</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate a random background.</span>

<span class="sd">    Args:</span>
<span class="sd">        background_dict: Background data.</span>
<span class="sd">        background_names: List of background names.</span>
<span class="sd">        background_weigh ts: List of background</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dict[str, Any]: Generated background.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">chosen_background</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choices</span><span class="p">(</span><span class="n">background_names</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">background_weights</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="c1"># Get the keys from the chosen background</span>
    <span class="n">background_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">background_dict</span><span class="p">[</span><span class="n">chosen_background</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">background_id</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">background_keys</span><span class="p">)</span>
    <span class="n">bg</span> <span class="o">=</span> <span class="n">background_dict</span><span class="p">[</span><span class="n">chosen_background</span><span class="p">][</span><span class="n">background_id</span><span class="p">]</span>

    <span class="n">background</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">bg</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">bg</span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">],</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">background_id</span><span class="p">,</span>
        <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="n">chosen_background</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">background</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_camerafollow_captions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_camerafollow_captions</span><span class="p">(</span><span class="n">combination</span><span class="p">,</span> <span class="n">camera_data</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate captions for camera following objects based on the combination data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>combination</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Combination data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>camera_data</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Camera data containing camera follow options. </p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[str]: List of camera follow captions.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_camerafollow_captions</span><span class="p">(</span><span class="n">combination</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">camera_data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate captions for camera following objects based on the combination data.</span>

<span class="sd">    Args:</span>
<span class="sd">        combination (Dict[str, Any]): Combination data.</span>
<span class="sd">        camera_data (Dict[str, Any]): Camera data containing camera follow options. </span>

<span class="sd">    Returns:</span>
<span class="sd">        List[str]: List of camera follow captions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s1">&#39;camera_follow&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">camera_data</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="n">camera_follow_options</span> <span class="o">=</span> <span class="n">camera_data</span><span class="p">[</span><span class="s1">&#39;camera_follow&#39;</span><span class="p">]</span>
    <span class="n">camera_follow_captions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">combination</span><span class="p">[</span><span class="s1">&#39;objects&#39;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="s1">&#39;camera_follow&#39;</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">:</span>
            <span class="n">caption</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">camera_follow_options</span><span class="p">)</span>
            <span class="n">caption</span> <span class="o">=</span> <span class="n">caption</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&lt;object&gt;&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
            <span class="n">camera_follow_captions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">caption</span><span class="p">)</span>        
    <span class="k">return</span> <span class="n">camera_follow_captions</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_fov_caption" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_fov_caption</span><span class="p">(</span><span class="n">combination</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate a caption for the field of view (FOV) based on the combination data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>combination</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Combination data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>FOV caption.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_fov_caption</span><span class="p">(</span><span class="n">combination</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate a caption for the field of view (FOV) based on the combination data.</span>

<span class="sd">    Args:</span>
<span class="sd">        combination (Dict[str, Any]): Combination data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: FOV caption.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">fov_templates</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;degrees&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;The camera has a &lt;fov&gt; degree field of view.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;The camera has a &lt;fov&gt; degree FOV.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;The field of view is &lt;fov&gt; degrees.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Set the fov of the camera to &lt;fov&gt; degrees.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Set the FOV of the camera to &lt;fov&gt;°&quot;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="s2">&quot;mm&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;The camera has a &lt;mm&gt; mm focal length.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;The focal length is &lt;mm&gt; mm.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Set the focal length of the camera to &lt;mm&gt; mm.&quot;</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">}</span>

    <span class="n">fov</span> <span class="o">=</span> <span class="n">combination</span><span class="p">[</span><span class="s2">&quot;framing&quot;</span><span class="p">][</span><span class="s2">&quot;fov&quot;</span><span class="p">]</span>

    <span class="c1"># FOV is stored as degrees in the framing data</span>
    <span class="n">fov_types</span> <span class="o">=</span> <span class="s2">&quot;degrees&quot;</span><span class="p">,</span> <span class="s2">&quot;mm&quot;</span>

    <span class="c1"># Select a random FOV type</span>
    <span class="n">fov_type</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">fov_types</span><span class="p">)</span>

    <span class="c1"># Select a random FOV template</span>
    <span class="n">fov_template</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">fov_templates</span><span class="p">[</span><span class="n">fov_type</span><span class="p">])</span>

    <span class="c1"># Replace the &lt;fov&gt; placeholder with the FOV value</span>
    <span class="n">fov_template</span> <span class="o">=</span> <span class="n">fov_template</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&lt;fov&gt;&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">fov</span><span class="p">))</span>

    <span class="c1"># Convert FOV to focal length</span>
    <span class="n">focal_length</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">35</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">fov</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)))</span>
    <span class="n">fov_caption</span> <span class="o">=</span> <span class="n">fov_template</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&lt;mm&gt;&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">focal_length</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">fov_type</span> <span class="o">==</span> <span class="s2">&quot;degrees&quot;</span><span class="p">:</span>
        <span class="n">fov_caption</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">focal_length</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> mm focal length)&quot;</span>

    <span class="k">return</span> <span class="n">fov_caption</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_framing" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_framing</span><span class="p">(</span><span class="n">camera_data</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate camera framing based on the camera data.
Copy codeArgs:
    camera_data (Dict[str, Any]): Camera data.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dict[str, Any]: Camera framing.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_framing</span><span class="p">(</span><span class="n">camera_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate camera framing based on the camera data.</span>
<span class="sd">    Copy codeArgs:</span>
<span class="sd">        camera_data (Dict[str, Any]): Camera data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dict[str, Any]: Camera framing.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Get the min_fov and max_fov across all framings</span>
    <span class="n">fov_min</span> <span class="o">=</span> <span class="nb">min</span><span class="p">([</span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;fov_min&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">camera_data</span><span class="p">[</span><span class="s2">&quot;framings&quot;</span><span class="p">]])</span>
    <span class="n">fov_max</span> <span class="o">=</span> <span class="nb">max</span><span class="p">([</span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;fov_max&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">camera_data</span><span class="p">[</span><span class="s2">&quot;framings&quot;</span><span class="p">]])</span>

    <span class="c1"># Randomly roll an FOV value between FOV_min and FOV_max</span>
    <span class="n">fov</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">fov_min</span><span class="p">,</span> <span class="n">fov_max</span><span class="p">))</span>

    <span class="c1"># Find the corresponding framing</span>
    <span class="n">framing</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">camera_data</span><span class="p">[</span><span class="s2">&quot;framings&quot;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">f</span><span class="p">[</span><span class="s2">&quot;fov_min&quot;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">fov</span> <span class="o">&lt;=</span> <span class="n">f</span><span class="p">[</span><span class="s2">&quot;fov_max&quot;</span><span class="p">]:</span>
            <span class="n">framing</span> <span class="o">=</span> <span class="n">f</span>
            <span class="k">break</span>

    <span class="c1"># Derive a coverage_factor between coverage_factor_min and coverage_factor_max</span>
    <span class="n">coverage_factor</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span>
        <span class="n">framing</span><span class="p">[</span><span class="s2">&quot;coverage_factor_min&quot;</span><span class="p">],</span> <span class="n">framing</span><span class="p">[</span><span class="s2">&quot;coverage_factor_max&quot;</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="n">framing</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;fov&quot;</span><span class="p">:</span> <span class="n">fov</span><span class="p">,</span>
        <span class="s2">&quot;coverage_factor&quot;</span><span class="p">:</span> <span class="n">coverage_factor</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">framing</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">framing</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_framing_caption" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_framing_caption</span><span class="p">(</span><span class="n">camera_data</span><span class="p">,</span> <span class="n">combination</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate a caption for framing based on the camera data and combination data.
Copy codeArgs:
    camera_data (Dict[str, Any]): Camera data.
    combination (Dict[str, Any]): Combination data.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Framing caption.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_framing_caption</span><span class="p">(</span>
    <span class="n">camera_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">combination</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate a caption for framing based on the camera data and combination data.</span>
<span class="sd">    Copy codeArgs:</span>
<span class="sd">        camera_data (Dict[str, Any]): Camera data.</span>
<span class="sd">        combination (Dict[str, Any]): Combination data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Framing caption.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">framing</span> <span class="o">=</span> <span class="n">combination</span><span class="p">[</span><span class="s2">&quot;framing&quot;</span><span class="p">]</span>
    <span class="n">framing_name</span> <span class="o">=</span> <span class="n">framing</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>

    <span class="c1"># Find the matching framing in camera_data</span>
    <span class="n">matching_framing</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
        <span class="p">(</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">camera_data</span><span class="p">[</span><span class="s2">&quot;framings&quot;</span><span class="p">]</span> <span class="k">if</span> <span class="n">f</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">framing_name</span><span class="p">),</span> <span class="kc">None</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">matching_framing</span><span class="p">:</span>
        <span class="n">framing_description</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">matching_framing</span><span class="p">[</span><span class="s2">&quot;descriptions&quot;</span><span class="p">])</span>
        <span class="n">framing_description</span> <span class="o">=</span> <span class="n">framing_description</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
            <span class="s2">&quot;&lt;fov&gt;&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">framing</span><span class="p">[</span><span class="s2">&quot;fov&quot;</span><span class="p">])</span>
        <span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&lt;coverage_factor&gt;&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">framing</span><span class="p">[</span><span class="s2">&quot;coverage_factor&quot;</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">framing_description</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_movement_captions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_movement_captions</span><span class="p">(</span><span class="n">combination</span><span class="p">,</span> <span class="n">object_data</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate captions for object movement based on the combination data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>combination</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Combination data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>object_data</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Object data including movement templates and speed descriptions.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[str]: List of movement captions.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_movement_captions</span><span class="p">(</span><span class="n">combination</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">object_data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate captions for object movement based on the combination data.</span>

<span class="sd">    Args:</span>
<span class="sd">        combination (Dict[str, Any]): Combination data.</span>
<span class="sd">        object_data (Dict[str, Any]): Object data including movement templates and speed descriptions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[str]: List of movement captions.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="s1">&#39;movement_description_relationship&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">object_data</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="n">object_movement_data</span> <span class="o">=</span> <span class="n">object_data</span><span class="p">[</span><span class="s1">&#39;movement_description_relationship&#39;</span><span class="p">]</span>
    <span class="n">object_movement_speed_words</span> <span class="o">=</span> <span class="n">object_data</span><span class="p">[</span><span class="s1">&#39;movement_speed_description&#39;</span><span class="p">]</span>

    <span class="n">movement_captions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">combination</span><span class="p">[</span><span class="s1">&#39;objects&#39;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="s1">&#39;movement&#39;</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">:</span>
            <span class="n">speed</span> <span class="o">=</span> <span class="n">obj</span><span class="p">[</span><span class="s1">&#39;movement&#39;</span><span class="p">][</span><span class="s1">&#39;speed&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">speed</span> <span class="o">&lt;=</span> <span class="mf">0.25</span><span class="p">:</span>
                <span class="n">speed_words</span> <span class="o">=</span> <span class="n">object_movement_speed_words</span><span class="p">[</span><span class="s1">&#39;0.25&#39;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">speed_words</span> <span class="o">=</span> <span class="n">object_movement_speed_words</span><span class="p">[</span><span class="s1">&#39;0.5&#39;</span><span class="p">]</span>

            <span class="n">speed_description</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">speed_words</span><span class="p">)</span>

            <span class="n">template</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">object_movement_data</span><span class="p">)</span>
            <span class="n">movement_description</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&lt;object&gt;&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
            <span class="n">movement_description</span> <span class="o">=</span> <span class="n">movement_description</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&lt;movement&gt;&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="p">[</span><span class="s1">&#39;movement&#39;</span><span class="p">][</span><span class="s1">&#39;direction&#39;</span><span class="p">])</span>
            <span class="n">movement_description</span> <span class="o">=</span> <span class="n">movement_description</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&lt;speed&gt;&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">speed</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="s1">&#39;&lt;speed_description&gt;&#39;</span> <span class="ow">in</span> <span class="n">movement_description</span><span class="p">:</span>
                <span class="n">movement_description</span> <span class="o">=</span> <span class="n">movement_description</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&lt;speed_description&gt;&#39;</span><span class="p">,</span> <span class="n">speed_description</span><span class="p">)</span>

            <span class="n">movement_captions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">movement_description</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">movement_captions</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_object_name_description_captions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_object_name_description_captions</span><span class="p">(</span><span class="n">combination</span><span class="p">,</span> <span class="n">object_data</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate captions for object names and descriptions based on the combination data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>combination</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Combination data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Object name and description captions.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_object_name_description_captions</span><span class="p">(</span>
    <span class="n">combination</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">object_data</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate captions for object names and descriptions based on the combination data.</span>

<span class="sd">    Args:</span>
<span class="sd">        combination (Dict[str, Any]): Combination data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Object name and description captions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">object_name_descriptions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">combination</span><span class="p">[</span><span class="s2">&quot;objects&quot;</span><span class="p">]:</span>
        <span class="n">object_description</span> <span class="o">=</span> <span class="n">obj</span><span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">]</span>

        <span class="n">object_scale</span> <span class="o">=</span> <span class="n">obj</span><span class="p">[</span><span class="s2">&quot;scale&quot;</span><span class="p">]</span>
        <span class="n">scale_factor</span> <span class="o">=</span> <span class="n">object_scale</span><span class="p">[</span><span class="s2">&quot;factor&quot;</span><span class="p">]</span>
        <span class="n">scale_name</span> <span class="o">=</span> <span class="n">object_scale</span><span class="p">[</span><span class="s2">&quot;name_synonym&quot;</span><span class="p">]</span>

        <span class="n">object_name_description_relationship</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span>
            <span class="n">object_data</span><span class="p">[</span><span class="s2">&quot;name_description_relationship&quot;</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="c1"># Replace placeholders with actual values</span>
        <span class="n">object_name_description_relationship</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">object_name_description_relationship</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&lt;name&gt;&quot;</span><span class="p">,</span> <span class="n">object_description</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&lt;size&gt;&quot;</span><span class="p">,</span> <span class="n">scale_name</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">random_metric_m</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s2">&quot;meters&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">])</span>
        <span class="n">size_in_meters</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">scale_factor</span><span class="si">}{</span><span class="n">random_metric_m</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">object_name_description_relationship</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">object_name_description_relationship</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
                <span class="s2">&quot;&lt;size_in_meters&gt;&quot;</span><span class="p">,</span> <span class="n">size_in_meters</span><span class="p">,</span> <span class="mi">1</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">random_metric_f</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s2">&quot;feet&quot;</span><span class="p">,</span> <span class="s2">&quot;ft&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">])</span>
        <span class="n">size_in_feet</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">meters_to_feet_rounded</span><span class="p">(</span><span class="n">scale_factor</span><span class="p">)</span><span class="si">}{</span><span class="n">random_metric_f</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">object_name_description_relationship</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">object_name_description_relationship</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
                <span class="s2">&quot;&lt;size_in_feet&gt;&quot;</span><span class="p">,</span> <span class="n">size_in_feet</span><span class="p">,</span> <span class="mi">1</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">object_name_descriptions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">object_name_description_relationship</span><span class="p">)</span>

    <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">object_name_descriptions</span><span class="p">)</span>
    <span class="n">object_name_descriptions</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">object_name_descriptions</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">object_name_descriptions</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_objects" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_objects</span><span class="p">(</span><span class="n">object_data</span><span class="p">,</span> <span class="n">dataset_names</span><span class="p">,</span> <span class="n">dataset_weights</span><span class="p">,</span> <span class="n">dataset_dict</span><span class="p">,</span> <span class="n">captions_data</span><span class="p">,</span> <span class="n">ontop_data</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate a list of random objects.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>object_data</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Object data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>dataset_names</code></td>
            <td>
                  <code><span title="typing.List">List</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of dataset names.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>dataset_weights</code></td>
            <td>
                  <code><span title="typing.List">List</span>[int]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of dataset weights.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>dataset_dict</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dataset dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>captions_data</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Captions data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>ontop_data</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag indicating whether to allow objects on top of each other.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[Dict[str, Any]]: List of generated objects.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_objects</span><span class="p">(</span>
    <span class="n">object_data</span><span class="p">,</span> <span class="n">dataset_names</span><span class="p">,</span> <span class="n">dataset_weights</span><span class="p">,</span> <span class="n">dataset_dict</span><span class="p">,</span> <span class="n">captions_data</span><span class="p">,</span> <span class="n">ontop_data</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate a list of random objects.</span>

<span class="sd">    Args:</span>
<span class="sd">        object_data (Dict[str, Any]): Object data.</span>
<span class="sd">        dataset_names (List[str]): List of dataset names.</span>
<span class="sd">        dataset_weights (List[int]): List of dataset weights.</span>
<span class="sd">        dataset_dict (Dict[str, Any]): Dataset dictionary.</span>
<span class="sd">        captions_data (Dict[str, Any]): Captions data.</span>
<span class="sd">        ontop_data (str): Flag indicating whether to allow objects on top of each other.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[Dict[str, Any]]: List of generated objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">chosen_dataset</span> <span class="o">=</span> <span class="s2">&quot;cap3d&quot;</span>

    <span class="k">if</span> <span class="n">chosen_dataset</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dataset_dict</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dataset &#39;</span><span class="si">{</span><span class="n">chosen_dataset</span><span class="si">}</span><span class="s2">&#39; not found in dataset_dict&quot;</span><span class="p">)</span>

    <span class="c1"># Randomly generate max_number_of_objects</span>
    <span class="n">max_number_of_objects</span> <span class="o">=</span> <span class="n">parse_args</span><span class="p">()</span><span class="o">.</span><span class="n">max_number_of_objects</span>
    <span class="n">number_of_objects</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_number_of_objects</span><span class="p">)</span>

    <span class="n">object_scales</span> <span class="o">=</span> <span class="n">object_data</span><span class="p">[</span><span class="s2">&quot;scales&quot;</span><span class="p">]</span>

    <span class="c1"># Scale values</span>
    <span class="n">scale_values</span> <span class="o">=</span> <span class="p">[</span><span class="n">scale</span><span class="p">[</span><span class="s2">&quot;factor&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">scale</span> <span class="ow">in</span> <span class="n">object_scales</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>

    <span class="c1"># Create simple triangular distribution based on scale_values</span>
    <span class="n">len_scale_values</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">scale_values</span><span class="p">)</span>
    <span class="n">mid_point</span> <span class="o">=</span> <span class="n">len_scale_values</span> <span class="o">//</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">len_scale_values</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">mid_point</span><span class="p">)]</span> <span class="o">+</span> <span class="p">[</span>
            <span class="n">mid_point</span> <span class="o">-</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">mid_point</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">weights</span> <span class="o">=</span> <span class="p">(</span>
            <span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">mid_point</span><span class="p">)]</span>
            <span class="o">+</span> <span class="p">[</span><span class="n">mid_point</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
            <span class="o">+</span> <span class="p">[</span><span class="n">mid_point</span> <span class="o">-</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">mid_point</span><span class="p">)]</span>
        <span class="p">)</span>

    <span class="n">total_weight</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">weights</span><span class="p">)</span>
    <span class="n">normalized_weights</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span> <span class="o">/</span> <span class="n">total_weight</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">weights</span><span class="p">]</span>

    <span class="n">objects</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">positions_taken</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">number_of_objects</span><span class="p">):</span>
        <span class="n">object_uid</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">dataset_dict</span><span class="p">[</span><span class="n">chosen_dataset</span><span class="p">])</span>
        <span class="n">object_description</span> <span class="o">=</span> <span class="n">captions_data</span><span class="p">[</span><span class="n">object_uid</span><span class="p">]</span>
        <span class="n">object_description</span> <span class="o">=</span> <span class="n">captions_data</span><span class="p">[</span><span class="n">object_uid</span><span class="p">]</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>  <span class="c1"># Remove trailing period</span>

        <span class="n">scale_choice</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choices</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">object_scales</span><span class="o">.</span><span class="n">items</span><span class="p">()),</span> <span class="n">weights</span><span class="o">=</span><span class="n">normalized_weights</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span>
        <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">scale_key</span> <span class="o">=</span> <span class="n">scale_choice</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">scale_value</span> <span class="o">=</span> <span class="n">scale_choice</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">scale</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;factor&quot;</span><span class="p">:</span> <span class="n">scale_value</span><span class="p">[</span><span class="s2">&quot;factor&quot;</span><span class="p">],</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">scale_key</span><span class="p">,</span>
            <span class="s2">&quot;name_synonym&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">scale_value</span><span class="p">[</span><span class="s2">&quot;names&quot;</span><span class="p">]),</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">placement</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># Ensure the first object is always placed at position 4</span>
            <span class="n">positions_taken</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">placement</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">possible_positions</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">pos</span> <span class="k">for</span> <span class="n">pos</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="k">if</span> <span class="n">pos</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">positions_taken</span> <span class="ow">or</span> <span class="n">ontop_data</span>
            <span class="p">]</span>
            <span class="n">placement</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">possible_positions</span><span class="p">)</span>
            <span class="n">positions_taken</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">placement</span><span class="p">)</span>

        <span class="nb">object</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">object_description</span><span class="p">,</span>  <span class="c1"># Use the description directly</span>
            <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="n">object_uid</span><span class="p">,</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">object_description</span><span class="p">,</span>  <span class="c1"># Use the description directly</span>
            <span class="s2">&quot;placement&quot;</span><span class="p">:</span> <span class="n">placement</span><span class="p">,</span>
            <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="n">chosen_dataset</span><span class="p">,</span>
            <span class="s2">&quot;scale&quot;</span><span class="p">:</span> <span class="n">scale</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">objects</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_ontop_captions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_ontop_captions</span><span class="p">(</span><span class="n">combination</span><span class="p">,</span> <span class="n">ontop_data</span><span class="p">,</span> <span class="n">object_data</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate captions for objects being on top of each other based on the combination data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>combination</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Combination data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>ontop_data</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag indicating whether to allow objects on top of each other.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>object_data</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Object data containing ontop description relationships.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[str]: List of ontop captions.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_ontop_captions</span><span class="p">(</span><span class="n">combination</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">ontop_data</span><span class="p">,</span> <span class="n">object_data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate captions for objects being on top of each other based on the combination data.</span>

<span class="sd">    Args:</span>
<span class="sd">        combination (Dict[str, Any]): Combination data.</span>
<span class="sd">        ontop_data (str): Flag indicating whether to allow objects on top of each other.</span>
<span class="sd">        object_data (Dict[str, Any]): Object data containing ontop description relationships.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[str]: List of ontop captions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ontop_data</span> <span class="ow">or</span> <span class="s1">&#39;ontop_description_relationship&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">object_data</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="n">ontop_captions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">placement_stacks</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">object_ontop_captions</span> <span class="o">=</span> <span class="n">object_data</span><span class="p">[</span><span class="s1">&#39;ontop_description_relationship&#39;</span><span class="p">]</span>

    <span class="c1"># Maintain the original order of objects</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">combination</span><span class="p">[</span><span class="s2">&quot;objects&quot;</span><span class="p">]:</span>
        <span class="n">placement</span> <span class="o">=</span> <span class="n">obj</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">placement</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">placement_stacks</span><span class="p">:</span>
            <span class="n">placement_stacks</span><span class="p">[</span><span class="n">placement</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">placement_stacks</span><span class="p">[</span><span class="n">placement</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

    <span class="c1"># Generate captions for objects at the same placement</span>
    <span class="k">for</span> <span class="n">placement</span><span class="p">,</span> <span class="n">objects</span> <span class="ow">in</span> <span class="n">placement_stacks</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">objects</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">objects</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">below_obj</span> <span class="o">=</span> <span class="n">objects</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">above_obj</span> <span class="o">=</span> <span class="n">objects</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>

                <span class="n">caption_template</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">object_ontop_captions</span><span class="p">)</span>

                <span class="c1"># Always describe from bottom to top to maintain consistency</span>
                <span class="n">caption</span> <span class="o">=</span> <span class="n">caption_template</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&lt;object1&gt;&quot;</span><span class="p">,</span> <span class="n">above_obj</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&lt;object2&gt;&quot;</span><span class="p">,</span> <span class="n">below_obj</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>

                <span class="n">ontop_captions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">caption</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">ontop_captions</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_orientation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_orientation</span><span class="p">(</span><span class="n">camera_data</span><span class="p">,</span> <span class="n">objects</span><span class="p">,</span> <span class="n">background</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate camera orientation based on the camera data, objects, and background.
Copy codeArgs:
    camera_data (Dict[str, Any]): Camera data.
    objects (List[Dict[str, Any]]): List of objects in the scene.
    background (Dict[str, Any]): Background information.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, int]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dict[str, int]: Camera orientation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_orientation</span><span class="p">(</span>
    <span class="n">camera_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">objects</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="n">background</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate camera orientation based on the camera data, objects, and background.</span>
<span class="sd">    Copy codeArgs:</span>
<span class="sd">        camera_data (Dict[str, Any]): Camera data.</span>
<span class="sd">        objects (List[Dict[str, Any]]): List of objects in the scene.</span>
<span class="sd">        background (Dict[str, Any]): Background information.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dict[str, int]: Camera orientation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">orientation_data</span> <span class="o">=</span> <span class="n">camera_data</span><span class="p">[</span><span class="s2">&quot;orientation&quot;</span><span class="p">]</span>

    <span class="c1"># Roll a number between orientation[&#39;yaw_min&#39;] and orientation[&#39;yaw_max&#39;]</span>
    <span class="n">yaw</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">orientation_data</span><span class="p">[</span><span class="s2">&quot;yaw_min&quot;</span><span class="p">],</span> <span class="n">orientation_data</span><span class="p">[</span><span class="s2">&quot;yaw_max&quot;</span><span class="p">])</span>
    <span class="n">pitch</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">orientation_data</span><span class="p">[</span><span class="s2">&quot;pitch_min&quot;</span><span class="p">],</span> <span class="n">orientation_data</span><span class="p">[</span><span class="s2">&quot;pitch_max&quot;</span><span class="p">])</span>

    <span class="c1"># Check if the camera is going to be occluded by the objects</span>
    <span class="c1"># If so, re-roll the orientation until a non-occluded orientation is found</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">occluded</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="c1"># Calculate the vector from the camera to the object</span>
            <span class="c1"># calculate the position of the camera on the unit circle from yaw</span>
            <span class="n">camera_x</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">yaw</span><span class="p">))</span>
            <span class="n">camera_y</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">yaw</span><span class="p">))</span>

            <span class="n">camera_vector</span> <span class="o">=</span> <span class="p">[</span><span class="n">camera_x</span><span class="p">,</span> <span class="n">camera_y</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

            <span class="c1"># get the position of the object</span>
            <span class="n">object_position</span> <span class="o">=</span> <span class="n">obj</span><span class="p">[</span><span class="s2">&quot;transformed_position&quot;</span><span class="p">]</span>

            <span class="c1"># normalize the object position, account for division by 0</span>
            <span class="n">object_position</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">a</span> <span class="o">/</span> <span class="nb">max</span><span class="p">(</span><span class="mf">1e-6</span><span class="p">,</span> <span class="nb">sum</span><span class="p">([</span><span class="n">b</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">object_position</span><span class="p">]))</span> <span class="o">**</span> <span class="mf">0.5</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">object_position</span>
            <span class="p">]</span>

            <span class="c1"># if the magnitude of the object position is 0, ignore it</span>
            <span class="k">if</span> <span class="nb">sum</span><span class="p">([</span><span class="n">a</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">object_position</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mf">0.001</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="c1"># dot product of the camera vector and the object position</span>
            <span class="n">dot_product</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">camera_vector</span><span class="p">,</span> <span class="n">object_position</span><span class="p">)])</span>

            <span class="c1"># calculate an angle padding on both sides of the object to use as a threshold</span>
            <span class="n">angle</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
            <span class="c1"># set the threshold to the dot product - cos of the angle</span>
            <span class="n">threshold</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">dot_product</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">:</span>
                <span class="n">occluded</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">break</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">occluded</span><span class="p">:</span>
            <span class="k">break</span>

        <span class="c1"># Re-roll the orientation if occluded and try again</span>
        <span class="n">yaw</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">orientation_data</span><span class="p">[</span><span class="s2">&quot;yaw_min&quot;</span><span class="p">],</span> <span class="n">orientation_data</span><span class="p">[</span><span class="s2">&quot;yaw_max&quot;</span><span class="p">])</span>
        <span class="n">pitch</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span>
            <span class="n">orientation_data</span><span class="p">[</span><span class="s2">&quot;pitch_min&quot;</span><span class="p">],</span> <span class="n">orientation_data</span><span class="p">[</span><span class="s2">&quot;pitch_max&quot;</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="n">orientation</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;yaw&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">yaw</span><span class="p">),</span>
        <span class="s2">&quot;pitch&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">pitch</span><span class="p">),</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">orientation</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_orientation_caption" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_orientation_caption</span><span class="p">(</span><span class="n">camera_data</span><span class="p">,</span> <span class="n">combination</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate a caption for the camera orientation based on the combination data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>camera_data</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Camera data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>combination</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Combination data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Orientation caption.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_orientation_caption</span><span class="p">(</span>
    <span class="n">camera_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">combination</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate a caption for the camera orientation based on the combination data.</span>

<span class="sd">    Args:</span>
<span class="sd">        camera_data (Dict[str, Any]): Camera data.</span>
<span class="sd">        combination (Dict[str, Any]): Combination data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Orientation caption.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pitch_labels</span> <span class="o">=</span> <span class="n">camera_data</span><span class="p">[</span><span class="s2">&quot;orientation&quot;</span><span class="p">][</span><span class="s2">&quot;labels&quot;</span><span class="p">][</span><span class="s2">&quot;pitch&quot;</span><span class="p">]</span>
    <span class="n">yaw_labels</span> <span class="o">=</span> <span class="n">camera_data</span><span class="p">[</span><span class="s2">&quot;orientation&quot;</span><span class="p">][</span><span class="s2">&quot;labels&quot;</span><span class="p">][</span><span class="s2">&quot;yaw&quot;</span><span class="p">]</span>

    <span class="n">closest_pitch_label</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span>
        <span class="n">pitch_labels</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span>
        <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">abs</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">combination</span><span class="p">[</span><span class="s2">&quot;orientation&quot;</span><span class="p">][</span><span class="s2">&quot;pitch&quot;</span><span class="p">])),</span>
    <span class="p">)</span>
    <span class="n">closest_yaw_label</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span>
        <span class="n">yaw_labels</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span>
        <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">abs</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">combination</span><span class="p">[</span><span class="s2">&quot;orientation&quot;</span><span class="p">][</span><span class="s2">&quot;yaw&quot;</span><span class="p">])),</span>
    <span class="p">)</span>

    <span class="c1"># Replace the placeholders in the camera text with the closest matching labels</span>
    <span class="n">orientation_text</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">camera_data</span><span class="p">[</span><span class="s2">&quot;orientation&quot;</span><span class="p">][</span><span class="s2">&quot;descriptions&quot;</span><span class="p">])</span>
    <span class="n">orientation_text</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">orientation_text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
            <span class="s2">&quot;&lt;pitch&gt;&quot;</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">pitch_labels</span><span class="p">[</span><span class="n">closest_pitch_label</span><span class="p">])</span>
        <span class="p">)</span>
        <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&lt;degrees&gt;&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">combination</span><span class="p">[</span><span class="s2">&quot;orientation&quot;</span><span class="p">][</span><span class="s2">&quot;pitch&quot;</span><span class="p">]))</span>
        <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&lt;yaw&gt;&quot;</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">yaw_labels</span><span class="p">[</span><span class="n">closest_yaw_label</span><span class="p">]))</span>
        <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&lt;degrees&gt;&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">combination</span><span class="p">[</span><span class="s2">&quot;orientation&quot;</span><span class="p">][</span><span class="s2">&quot;yaw&quot;</span><span class="p">]))</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">orientation_text</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_postprocessing" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_postprocessing</span><span class="p">(</span><span class="n">camera_data</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate postprocessing settings based on the camera data.
Copy codeArgs:
    camera_data (Dict[str, Any]): Camera data.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dict[str, Any]: Postprocessing settings.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_postprocessing</span><span class="p">(</span><span class="n">camera_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate postprocessing settings based on the camera data.</span>
<span class="sd">    Copy codeArgs:</span>
<span class="sd">        camera_data (Dict[str, Any]): Camera data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dict[str, Any]: Postprocessing settings.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">postprocessing</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">bloom_data</span> <span class="o">=</span> <span class="n">camera_data</span><span class="p">[</span><span class="s2">&quot;postprocessing&quot;</span><span class="p">][</span><span class="s2">&quot;bloom&quot;</span><span class="p">]</span>

    <span class="n">bloom_threshold</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span>
        <span class="n">bloom_data</span><span class="p">[</span><span class="s2">&quot;threshold_min&quot;</span><span class="p">],</span> <span class="n">bloom_data</span><span class="p">[</span><span class="s2">&quot;threshold_max&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">bloom_intensity</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span>
        <span class="n">bloom_data</span><span class="p">[</span><span class="s2">&quot;intensity_min&quot;</span><span class="p">],</span> <span class="n">bloom_data</span><span class="p">[</span><span class="s2">&quot;intensity_max&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">bloom_radius</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">bloom_data</span><span class="p">[</span><span class="s2">&quot;radius_min&quot;</span><span class="p">],</span> <span class="n">bloom_data</span><span class="p">[</span><span class="s2">&quot;radius_max&quot;</span><span class="p">])</span>

    <span class="n">bloom_type</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span>
    <span class="n">bloom_types</span> <span class="o">=</span> <span class="n">bloom_data</span><span class="p">[</span><span class="s2">&quot;types&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">bloom_types</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">bloom_intensity</span> <span class="o">&gt;=</span> <span class="n">bloom_types</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span class="s2">&quot;intensity_min&quot;</span><span class="p">]</span>
            <span class="ow">and</span> <span class="n">bloom_intensity</span> <span class="o">&lt;=</span> <span class="n">bloom_types</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span class="s2">&quot;intensity_max&quot;</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="n">bloom_type</span> <span class="o">=</span> <span class="n">t</span>
            <span class="k">break</span>

    <span class="n">postprocessing</span><span class="p">[</span><span class="s2">&quot;bloom&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;threshold&quot;</span><span class="p">:</span> <span class="n">bloom_threshold</span><span class="p">,</span>
        <span class="s2">&quot;intensity&quot;</span><span class="p">:</span> <span class="n">bloom_intensity</span><span class="p">,</span>
        <span class="s2">&quot;radius&quot;</span><span class="p">:</span> <span class="n">bloom_radius</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">bloom_type</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">ssao_data</span> <span class="o">=</span> <span class="n">camera_data</span><span class="p">[</span><span class="s2">&quot;postprocessing&quot;</span><span class="p">][</span><span class="s2">&quot;ssao&quot;</span><span class="p">]</span>
    <span class="n">ssao_distance</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">ssao_data</span><span class="p">[</span><span class="s2">&quot;distance_min&quot;</span><span class="p">],</span> <span class="n">ssao_data</span><span class="p">[</span><span class="s2">&quot;distance_max&quot;</span><span class="p">])</span>
    <span class="n">ssao_factor</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">ssao_data</span><span class="p">[</span><span class="s2">&quot;factor_min&quot;</span><span class="p">],</span> <span class="n">ssao_data</span><span class="p">[</span><span class="s2">&quot;factor_max&quot;</span><span class="p">])</span>

    <span class="n">ssao_type</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">ssao_data</span><span class="p">[</span><span class="s2">&quot;types&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">ssao_factor</span> <span class="o">&gt;=</span> <span class="n">ssao_data</span><span class="p">[</span><span class="s2">&quot;types&quot;</span><span class="p">][</span><span class="n">t</span><span class="p">][</span><span class="s2">&quot;factor_min&quot;</span><span class="p">]</span>
            <span class="ow">and</span> <span class="n">ssao_factor</span> <span class="o">&lt;=</span> <span class="n">ssao_data</span><span class="p">[</span><span class="s2">&quot;types&quot;</span><span class="p">][</span><span class="n">t</span><span class="p">][</span><span class="s2">&quot;factor_max&quot;</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="n">ssao_type</span> <span class="o">=</span> <span class="n">t</span>
            <span class="k">break</span>

    <span class="n">postprocessing</span><span class="p">[</span><span class="s2">&quot;ssao&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;distance&quot;</span><span class="p">:</span> <span class="n">ssao_distance</span><span class="p">,</span>
        <span class="s2">&quot;factor&quot;</span><span class="p">:</span> <span class="n">ssao_factor</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">ssao_type</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">ssrr_data</span> <span class="o">=</span> <span class="n">camera_data</span><span class="p">[</span><span class="s2">&quot;postprocessing&quot;</span><span class="p">][</span><span class="s2">&quot;ssrr&quot;</span><span class="p">]</span>
    <span class="n">ssrr_max_roughness</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span>
        <span class="n">ssrr_data</span><span class="p">[</span><span class="s2">&quot;min_max_roughness&quot;</span><span class="p">],</span> <span class="n">ssrr_data</span><span class="p">[</span><span class="s2">&quot;max_max_roughness&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">ssrr_thickness</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span>
        <span class="n">ssrr_data</span><span class="p">[</span><span class="s2">&quot;min_thickness&quot;</span><span class="p">],</span> <span class="n">ssrr_data</span><span class="p">[</span><span class="s2">&quot;max_thickness&quot;</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="n">ssrr_type</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">ssrr_data</span><span class="p">[</span><span class="s2">&quot;types&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">ssrr_max_roughness</span> <span class="o">&gt;=</span> <span class="n">ssrr_data</span><span class="p">[</span><span class="s2">&quot;types&quot;</span><span class="p">][</span><span class="n">t</span><span class="p">][</span><span class="s2">&quot;max_roughness_min&quot;</span><span class="p">]</span>
            <span class="ow">and</span> <span class="n">ssrr_max_roughness</span> <span class="o">&lt;=</span> <span class="n">ssrr_data</span><span class="p">[</span><span class="s2">&quot;types&quot;</span><span class="p">][</span><span class="n">t</span><span class="p">][</span><span class="s2">&quot;max_roughness_max&quot;</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="n">ssrr_type</span> <span class="o">=</span> <span class="n">t</span>
            <span class="k">break</span>

    <span class="n">postprocessing</span><span class="p">[</span><span class="s2">&quot;ssrr&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;max_roughness&quot;</span><span class="p">:</span> <span class="n">ssrr_max_roughness</span><span class="p">,</span>
        <span class="s2">&quot;thickness&quot;</span><span class="p">:</span> <span class="n">ssrr_thickness</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">ssrr_type</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">motionblur_data</span> <span class="o">=</span> <span class="n">camera_data</span><span class="p">[</span><span class="s2">&quot;postprocessing&quot;</span><span class="p">][</span><span class="s2">&quot;motionblur&quot;</span><span class="p">]</span>
    <span class="n">motionblur_shutter_speed</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span>
        <span class="n">motionblur_data</span><span class="p">[</span><span class="s2">&quot;shutter_speed_min&quot;</span><span class="p">],</span> <span class="n">motionblur_data</span><span class="p">[</span><span class="s2">&quot;shutter_speed_max&quot;</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="n">motionblur_type</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">motionblur_data</span><span class="p">[</span><span class="s2">&quot;types&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">motionblur_shutter_speed</span> <span class="o">&gt;=</span> <span class="n">motionblur_data</span><span class="p">[</span><span class="s2">&quot;types&quot;</span><span class="p">][</span><span class="n">t</span><span class="p">][</span><span class="s2">&quot;shutter_speed_min&quot;</span><span class="p">]</span>
            <span class="ow">and</span> <span class="n">motionblur_shutter_speed</span>
            <span class="o">&lt;=</span> <span class="n">motionblur_data</span><span class="p">[</span><span class="s2">&quot;types&quot;</span><span class="p">][</span><span class="n">t</span><span class="p">][</span><span class="s2">&quot;shutter_speed_max&quot;</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="n">motionblur_type</span> <span class="o">=</span> <span class="n">t</span>
            <span class="k">break</span>

    <span class="n">postprocessing</span><span class="p">[</span><span class="s2">&quot;motionblur&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;shutter_speed&quot;</span><span class="p">:</span> <span class="n">motionblur_shutter_speed</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">motionblur_type</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">postprocessing</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_postprocessing_caption" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_postprocessing_caption</span><span class="p">(</span><span class="n">combination</span><span class="p">,</span> <span class="n">camera_data</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate a caption for postprocessing based on the combination data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>combination</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Combination data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>camera_data</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Camera data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Postprocessing caption.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_postprocessing_caption</span><span class="p">(</span><span class="n">combination</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">camera_data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate a caption for postprocessing based on the combination data.</span>

<span class="sd">    Args:</span>
<span class="sd">        combination (Dict[str, Any]): Combination data.</span>
<span class="sd">        camera_data (Dict[str, Any]): Camera data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Postprocessing caption.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">postprocessing</span> <span class="o">=</span> <span class="n">combination</span><span class="p">[</span><span class="s2">&quot;postprocessing&quot;</span><span class="p">]</span>
    <span class="n">caption_parts</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">postprocessing_options</span> <span class="o">=</span> <span class="n">camera_data</span><span class="p">[</span><span class="s2">&quot;postprocessing&quot;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">postprocessing</span><span class="p">:</span>
        <span class="n">post_type</span> <span class="o">=</span> <span class="n">postprocessing</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;bloom&quot;</span><span class="p">:</span>
            <span class="n">bloom_caption</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span>
                <span class="n">postprocessing_options</span><span class="p">[</span><span class="s2">&quot;bloom&quot;</span><span class="p">][</span><span class="s2">&quot;types&quot;</span><span class="p">][</span><span class="n">post_type</span><span class="p">][</span><span class="s2">&quot;descriptions&quot;</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="n">caption_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bloom_caption</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;ssao&quot;</span><span class="p">:</span>
            <span class="n">ssao_caption</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span>
                <span class="n">postprocessing_options</span><span class="p">[</span><span class="s2">&quot;ssao&quot;</span><span class="p">][</span><span class="s2">&quot;types&quot;</span><span class="p">][</span><span class="n">post_type</span><span class="p">][</span><span class="s2">&quot;descriptions&quot;</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="n">caption_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ssao_caption</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;ssrr&quot;</span><span class="p">:</span>
            <span class="n">ssrr_caption</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span>
                <span class="n">postprocessing_options</span><span class="p">[</span><span class="s2">&quot;ssrr&quot;</span><span class="p">][</span><span class="s2">&quot;types&quot;</span><span class="p">][</span><span class="n">post_type</span><span class="p">][</span><span class="s2">&quot;descriptions&quot;</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="n">caption_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ssrr_caption</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;motionblur&quot;</span><span class="p">:</span>
            <span class="n">motionblur_caption</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span>
                <span class="n">postprocessing_options</span><span class="p">[</span><span class="s2">&quot;motionblur&quot;</span><span class="p">][</span><span class="s2">&quot;types&quot;</span><span class="p">][</span><span class="n">post_type</span><span class="p">][</span><span class="s2">&quot;descriptions&quot;</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="n">caption_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">motionblur_caption</span><span class="p">)</span>

    <span class="c1"># Ensure we have at least one caption</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">caption_parts</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;No significant post-processing effects applied.&quot;</span>

    <span class="c1"># Ensure at least 1-2 captions remain</span>
    <span class="n">min_captions</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">caption_parts</span><span class="p">))</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">caption_parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">min_captions</span><span class="p">:</span>
        <span class="n">num_to_pop</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">caption_parts</span><span class="p">)</span> <span class="o">-</span> <span class="n">min_captions</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_to_pop</span><span class="p">):</span>
            <span class="n">random_index_to_remove</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">caption_parts</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">caption_parts</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">random_index_to_remove</span><span class="p">)</span>

    <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">caption_parts</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_relationship_captions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_relationship_captions</span><span class="p">(</span><span class="n">combination</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate captions for object relationships based on the combination data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>combination</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Combination data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[str]: List of relationship captions.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_relationship_captions</span><span class="p">(</span><span class="n">combination</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate captions for object relationships based on the combination data.</span>

<span class="sd">    Args:</span>
<span class="sd">        combination (Dict[str, Any]): Combination data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[str]: List of relationship captions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">threshold_relationships</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">combination</span><span class="p">[</span><span class="s2">&quot;objects&quot;</span><span class="p">])</span>

    <span class="n">adjusted_objects</span> <span class="o">=</span> <span class="n">adjust_positions</span><span class="p">(</span>
        <span class="n">combination</span><span class="p">[</span><span class="s2">&quot;objects&quot;</span><span class="p">],</span> <span class="n">combination</span><span class="p">[</span><span class="s2">&quot;orientation&quot;</span><span class="p">][</span><span class="s2">&quot;yaw&quot;</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="n">camera_yaw</span> <span class="o">=</span> <span class="n">combination</span><span class="p">[</span><span class="s2">&quot;orientation&quot;</span><span class="p">][</span><span class="s2">&quot;yaw&quot;</span><span class="p">]</span>

    <span class="n">relationships</span> <span class="o">=</span> <span class="n">determine_relationships</span><span class="p">(</span><span class="n">adjusted_objects</span><span class="p">,</span> <span class="n">camera_yaw</span><span class="p">)</span>

    <span class="c1"># Write relationships into the JSON file with combination[&quot;objects&quot;][&quot;relationships&quot;]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">obj</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">combination</span><span class="p">[</span><span class="s2">&quot;objects&quot;</span><span class="p">]):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;relationships&quot;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">relationships</span><span class="p">):</span>
            <span class="n">obj</span><span class="p">[</span><span class="s2">&quot;relationships&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationships</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

    <span class="n">selected_relationships</span> <span class="o">=</span> <span class="n">relationships</span>
    <span class="k">if</span> <span class="n">threshold_relationships</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">relationships</span><span class="p">):</span>
        <span class="n">selected_relationships</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">relationships</span><span class="p">,</span> <span class="n">threshold_relationships</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">selected_relationships</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_stage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_stage</span><span class="p">(</span><span class="n">texture_data</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate a random stage.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>texture_data</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Texture data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dict[str, Any]: Generated stage.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_stage</span><span class="p">(</span><span class="n">texture_data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate a random stage.</span>

<span class="sd">    Args:</span>
<span class="sd">        texture_data: Texture data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dict[str, Any]: Generated stage.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">texture_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">texture_data</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">texture_weights</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">texture_data</span><span class="p">[</span><span class="n">name</span><span class="p">][</span><span class="s2">&quot;maps&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">texture_names</span><span class="p">]</span>
    <span class="n">chosen_texture</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choices</span><span class="p">(</span><span class="n">texture_names</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">texture_weights</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">maps</span> <span class="o">=</span> <span class="n">texture_data</span><span class="p">[</span><span class="n">chosen_texture</span><span class="p">][</span><span class="s2">&quot;maps&quot;</span><span class="p">]</span>

    <span class="n">material</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">texture_data</span><span class="p">[</span><span class="n">chosen_texture</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="s2">&quot;maps&quot;</span><span class="p">:</span> <span class="n">maps</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">stage</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;material&quot;</span><span class="p">:</span> <span class="n">material</span><span class="p">,</span>
        <span class="s2">&quot;uv_scale&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">)],</span>
        <span class="s2">&quot;uv_rotation&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">),</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">stage</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.generate_stage_captions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_stage_captions</span><span class="p">(</span><span class="n">combination</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate captions for the stage based on the combination data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>combination</code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Combination data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[str]: List of stage captions.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_stage_captions</span><span class="p">(</span><span class="n">combination</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate captions for the stage based on the combination data.</span>

<span class="sd">    Args:</span>
<span class="sd">        combination (Dict[str, Any]): Combination data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[str]: List of stage captions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">current_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>

    <span class="n">stage_data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_dir</span><span class="p">,</span> <span class="s2">&quot;../data/stage_data.json&quot;</span><span class="p">)</span>
    <span class="n">stage_data</span> <span class="o">=</span> <span class="n">read_json_file</span><span class="p">(</span><span class="n">stage_data_path</span><span class="p">)</span>

    <span class="n">background_prefix</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">stage_data</span><span class="p">[</span><span class="s2">&quot;background_names&quot;</span><span class="p">])</span>
    <span class="n">floor_prefix</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">stage_data</span><span class="p">[</span><span class="s2">&quot;material_names&quot;</span><span class="p">])</span>
    <span class="n">background_name</span> <span class="o">=</span> <span class="n">combination</span><span class="p">[</span><span class="s2">&quot;background&quot;</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
    <span class="n">floor_material_name</span> <span class="o">=</span> <span class="n">combination</span><span class="p">[</span><span class="s2">&quot;stage&quot;</span><span class="p">][</span><span class="s2">&quot;material&quot;</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>

    <span class="c1"># remove all numbers and trim</span>
    <span class="n">floor_material_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">floor_material_name</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">i</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()]</span>
    <span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">background_name</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">background_name</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">i</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()])</span>
        <span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">caption_parts</span> <span class="o">=</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="n">background_prefix</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">background_name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="n">floor_prefix</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">floor_material_name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="k">return</span> <span class="n">caption_parts</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.meters_to_feet_rounded" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">meters_to_feet_rounded</span><span class="p">(</span><span class="n">meters</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Convert meters to feet and round the result.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>meters</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Distance in meters.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Distance in feet (rounded).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">meters_to_feet_rounded</span><span class="p">(</span><span class="n">meters</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert meters to feet and round the result.</span>

<span class="sd">    Args:</span>
<span class="sd">        meters (float): Distance in meters.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: Distance in feet (rounded).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">feet_per_meter</span> <span class="o">=</span> <span class="mf">3.28084</span>
    <span class="k">return</span> <span class="nb">round</span><span class="p">(</span><span class="n">meters</span> <span class="o">*</span> <span class="n">feet_per_meter</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.parse_args" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_args</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Parse command line arguments using argparse.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="argparse.Namespace">Namespace</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>argparse.Namespace: Parsed arguments.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_args</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argparse</span><span class="o">.</span><span class="n">Namespace</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parse command line arguments using argparse.</span>

<span class="sd">    Returns:</span>
<span class="sd">        argparse.Namespace: Parsed arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Generate random camera combinations.&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--count&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Number of combinations to generate&quot;</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--seed&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Seed for the random number generator&quot;</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--max_number_of_objects&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Maximum number of objects to randomly select&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--camera_file_path&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;data/camera_data.json&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to the JSON file containing camera data&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--object_data_path&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;data/object_data.json&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to the JSON file containing object data&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--texture_data_path&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;datasets/texture_data.json&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to the JSON file containing texture data&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--datasets_path&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;data/datasets.json&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to the file which lists all the datasets to use&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--cap3d_captions_path&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;datasets/cap3d_captions.json&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to the JSON file containing captions data&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--simdata_path&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;datasets&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to the simdata directory&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--output_path&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;combinations.json&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to the output file&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--stage_data_path&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;data/stage_data.json&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to the JSON file containing stage data&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--movement&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Apply movement to all, none, or random objects.&quot;</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--ontop&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Allow objects to be on top of each other.&quot;</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--camera_follow&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Camera will follow specified object as it moves (for individual objects).&quot;</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--random&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Randomly apply movement, object stacking, and camera follow effects&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.read_json_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_json_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Read a JSON file and return the data as a dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>file_path</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the JSON file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dict[str, Any]: Data from the JSON file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">read_json_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read a JSON file and return the data as a dictionary.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path (str): Path to the JSON file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dict[str, Any]: Data from the JSON file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="simian.combiner.speed_factor_to_percentage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">speed_factor_to_percentage</span><span class="p">(</span><span class="n">speed_factor</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Convert speed factor to a percentage string.
Copy codeArgs:
    speed_factor (float): Speed factor value.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Speed factor as a percentage string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>simian/combiner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">speed_factor_to_percentage</span><span class="p">(</span><span class="n">speed_factor</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert speed factor to a percentage string.</span>
<span class="sd">    Copy codeArgs:</span>
<span class="sd">        speed_factor (float): Speed factor value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Speed factor as a percentage string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rounded_speed_factor</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">speed_factor</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">percentage</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">rounded_speed_factor</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">percentage</span><span class="si">}</span><span class="s2">%&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>